# =============================================================================
# ECG Infrastructure - New AWS Account Configuration Template
# =============================================================================
#
# ì´ íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ ì‹¤ì œ ê³„ì • ì •ë³´ë¡œ ìˆ˜ì •í•œ í›„ ì‚¬ìš©í•˜ì„¸ìš”.
# ë³µì‚¬ ëª…ë ¹: cp terraform-new-account.tfvars.example terraform-new-account.tfvars
# ì‚¬ìš© ëª…ë ¹: terraform apply -var-file="terraform-new-account.tfvars"

# =============================================================================
# AWS Account & Region Configuration
# =============================================================================

# ğŸ”‘ REQUIRED: ìƒˆë¡œìš´ AWS ê³„ì • ID (12ìë¦¬ ìˆ«ì)
# ì˜ˆ: aws_account_id = "123456789012"
aws_account_id = "YOUR_NEW_ACCOUNT_ID_HERE"

# ğŸŒ REQUIRED: AWS ë¦¬ì „ (ECR, ECS ë“± ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì´ ë¦¬ì „ì— ìƒì„±ë©ë‹ˆë‹¤)
aws_region = "us-east-1"  # ë˜ëŠ” ì›í•˜ëŠ” ë¦¬ì „ìœ¼ë¡œ ë³€ê²½

# =============================================================================
# Project Configuration
# =============================================================================

# í”„ë¡œì íŠ¸ ê¸°ë³¸ ì„¤ì •
project_name = "ecg-project-pipeline"
environment  = "dev"  # dev, staging, prod ë“±

# =============================================================================
# VPC & Networking Configuration
# =============================================================================

# VPC CIDR ë¸”ë¡ (ê¸°ë³¸ê°’ ì‚¬ìš© ë˜ëŠ” í•„ìš”ì‹œ ë³€ê²½)
vpc_cidr             = "10.0.0.0/16"
public_subnet_cidrs  = ["10.0.1.0/24", "10.0.2.0/24"]
private_subnet_cidrs = ["10.0.10.0/24", "10.0.20.0/24"]

# =============================================================================
# Container & ECR Configuration
# =============================================================================

# ğŸ³ REQUIRED: API ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ URI
# ìƒˆ ê³„ì •ì˜ ECRë¡œ ì´ë¯¸ì§€ë¥¼ í‘¸ì‹œí•œ í›„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
# í˜•ì‹: {ACCOUNT_ID}.dkr.ecr.{REGION}.amazonaws.com/{REPO_NAME}:{TAG}
# ì˜ˆ: api_container_image = "123456789012.dkr.ecr.us-east-1.amazonaws.com/ecg-project-pipeline-dev-api:latest"
api_container_image = null  # nullì´ë©´ ìë™ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤

# ECS ë¦¬ì†ŒìŠ¤ í• ë‹¹
api_cpu    = 512
api_memory = 1024

# =============================================================================
# Domain & SSL Certificate Configuration
# =============================================================================

# ğŸŒ OPTIONAL: CloudFront ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì„¤ì •
# 1. AWS Consoleì—ì„œ ACM ì¸ì¦ì„œë¥¼ us-east-1 ë¦¬ì „ì— ë°œê¸‰ë°›ìœ¼ì„¸ìš”
# 2. ì•„ë˜ ë³€ìˆ˜ë“¤ì„ ì„¤ì •í•˜ì„¸ìš”:
# ì‚¬ìš© ì˜ˆ:
# cloudfront_domain_aliases = ["your-domain.com", "www.your-domain.com"]
# cloudfront_certificate_arn = "arn:aws:acm:us-east-1:YOUR_ACCOUNT:certificate/YOUR_CERT_ID"

cloudfront_domain_aliases = []
cloudfront_certificate_arn = null

# =============================================================================
# Database Configuration
# =============================================================================

# RDS PostgreSQL ì„¤ì •
db_instance_class = "db.t3.micro"  # í”„ë¡œë•ì…˜ì—ì„œëŠ” ë” í° ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš© ê¶Œì¥
db_name           = "ecgdb"
db_username       = "postgres"

# =============================================================================
# Cache Configuration - REMOVED
# =============================================================================

# ElastiCache Redis - ë¹„ìš© ìµœì í™”ë¥¼ ìœ„í•´ ì œê±°ë¨
# í•„ìš”ì‹œ RDS PostgreSQLì˜ ì„±ëŠ¥ ìµœì í™”ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ ìºì‹± ê³ ë ¤

# =============================================================================
# GPU Instance Configuration (Audio Production)
# =============================================================================

# ğŸµ OPTIONAL: GPU ì¸ìŠ¤í„´ìŠ¤ ì„¤ì • (ì˜¤ë””ì˜¤ ë¶„ì„ìš©)
# ì£¼ì˜: g4dn.2xlarge ì¸ìŠ¤í„´ìŠ¤ëŠ” ì‹œê°„ë‹¹ ì•½ $0.75-$1.20ì˜ ë¹„ìš©ì´ ë°œìƒí•©ë‹ˆë‹¤
# ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•ŒëŠ” falseë¡œ ì„¤ì •í•˜ì—¬ ë¹„ìš©ì„ ì ˆì•½í•˜ì„¸ìš”

gpu_instance_enabled = false  # trueë¡œ ì„¤ì •í•˜ë©´ GPU ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

# GPU ì¸ìŠ¤í„´ìŠ¤ ì„¤ì • (gpu_instance_enabled = trueì¼ ë•Œë§Œ ì ìš©)
gpu_instance_type = "g4dn.2xlarge"  # ë˜ëŠ” g4dn.xlarge (ë” ì €ë ´), g5.2xlarge (ë” ì„±ëŠ¥ ì¢‹ìŒ)
gpu_instance_volume_size = 100       # EBS ë³¼ë¥¨ í¬ê¸° (GB)

# ğŸ”‘ REQUIRED (GPU ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš© ì‹œ): EC2 í‚¤ í˜ì–´ ì´ë¦„
# ìƒˆ ê³„ì •ì—ì„œ ë¨¼ì € í‚¤ í˜ì–´ë¥¼ ìƒì„±í•œ í›„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
# aws ec2 create-key-pair --key-name your-key-name --query 'KeyMaterial' --output text > your-key-name.pem
gpu_instance_key_name = null  # ì˜ˆ: "your-key-name"

# =============================================================================
# S3 Bucket Names Configuration (Account-specific)
# =============================================================================

# ğŸš¨ IMPORTANT: S3 ë²„í‚· ì´ë¦„ì€ ê¸€ë¡œë²Œ ìœ ë‹ˆí¬í•´ì•¼ í•©ë‹ˆë‹¤!
# ê¸°ì¡´ ê³„ì •ì˜ ë²„í‚·ëª…ì´ ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš© ì¤‘ì´ë©´ ìƒˆ ì´ë¦„ í•„ìš”

# Plugin Server ë²„í‚· ì´ë¦„ (ì„ íƒì‚¬í•­)
# nullì´ë©´ ìë™ìœ¼ë¡œ ê³„ì • IDë¥¼ í¬í•¨í•œ ê³ ìœ í•œ ì´ë¦„ ìƒì„±
plugin_server_bucket_name = null  # ì˜ˆ: "my-company-plugin-server-unique"

# ê³„ì • IDë¥¼ ë²„í‚· ì´ë¦„ì— í¬í•¨í• ì§€ ì—¬ë¶€ (ê³ ìœ ì„± ë³´ì¥)
use_account_specific_bucket_names = true  # true ê¶Œì¥